**Руководство по использованию AbandonedMapEditor**

Файл exe должен помещаться в папку с *data* (желательно в сам каталог игры). В папке *data* должны содержаться папки *maps* и *textures/maps*. В первой содержатся .rawmap файлы, во второй tileset'ы, которые будут использоваться.

**Начало работы**

Перед началом работы необходимо создать .rawmap карты. Шаблон для создания содержится в файле *data/maps/template.rawmap.* Необходимо создать аналогичный файл с необходимым названием и без комментариев (например: "<- размеры карты в плитках (x,y)").

**Работа в редакторе**

Зайдя в редактор, необходимо ввести название карты. Для этого необходимо нажать ЛКМ по полю ввода слева сверху. После этого вводится название и повторным нажатием ЛКМ или Enter подтверждается ввод. В случае ошибки в названии, необходимо "подтвердить ввод", после чего значение в поле ввода сбросится и будет дана возможность ввести название повторно. (Если файл с данным названием не существует, то в данном поле ввода будет выведено *no such file*).

После успешного открытия карты, на экране отобразятся:

- Сама карта по центру;
- Набор доступных плиток слева;
- Информационная панель сверху.

Панель слева обеспечивает к доступным плиткам. Чтобы выбрать нужную, необходимо нажать ЛКМ по ней. Для переключения между страницами необходимо нажимать на нижние красные квадраты.

Верхняя панель обеспечивает пользователя информацией об отображаемых слоях карты, о ID плитки, которая сейчас выбрана, о режиме заполнения карты (*point*/*fill*).

Карта обеспечивает визуальное представление карты в текущий момент и возможность редактирования карты. 

Для работы на определенном слое, необходимо учитывать, что рисование происходит на верхнем включенном. Приоритетность следующая: GROUND<OBJECTS<OBSTACLES. Т.е. если включен слоев препятствия, то вне зависимости от включения предыдущих слоев, нанесение будет на этот слой. Если препятствия выключены, но включены объекты, то будет происходить нанесение на слой объектов. Если включен слой только поверхности, то только в этом случае будет происходить рисование на слое земли. 

При рисовании на слоях выше земли, может быть допущена какая-либо ошибка и необходимо будет убрать данный объект или препятствие с карты. Роль "стерки" играет самая первая плитка, т.е. плитка с id 1.

Поддерживается режим заливки. При его включении первым нажатием обозначается один из углов прямоугольника, а втором противоположный. В данном прямоугольнике все плитки редактируемого слоя заменяются на выбранную плитку.

**Горячие клавиши:**

1. WASD - управление камерой.
1. +/- - приближение и отдаление камеры.
1. F - переключение режима заливки. Режим виден на верхней панели.
1. P - сохранить карту.
1. 1-3 - включение/выключение слоев карты. Земля, объекты и препятствия соответственно.

**Выгрузка карты в файлы игры**

Для выгрузки карты в файлы игры, необходимо скопировать .rawmap файл в *data/maps* (если работа происходила не в каталоге игры), изменить формат файла на .map, внести второй строкой в файл карты координаты появления игрока (x,y плитки).
